/**
 *
 * @param target html节点
 * @returns
 */

import { EventTypes } from '@monitor/common';
import { setFlag } from './global';

export function htmlElementAsString(target: HTMLElement) {
  const tagName = target.tagName.toLocaleLowerCase();
  if (tagName === 'body') {
    return '';
  }
  let classNames = target.classList.value;
  classNames = classNames !== '' ? ` class='${classNames}'` : '';
}

export function setSilentFlag({
  silentXhr = true,
  silentFetch = true,
  silentClick = true,
  silentHistory = true,
  silentError = true,
  silentHashchange = true,
  silentUnhandledrejection = true,
  silentWhiteScreen = false,
}): void {
  setFlag(EventTypes.XHR, !silentXhr);
  setFlag(EventTypes.FETCH, !silentFetch);
  setFlag(EventTypes.CLICK, !silentClick);
  setFlag(EventTypes.HISTORY, !silentHistory);
  setFlag(EventTypes.ERROR, !silentError);
  setFlag(EventTypes.HASHCHANGE, !silentHashchange);
  setFlag(EventTypes.UNHANDLEDREJECTION, !silentUnhandledrejection);
  setFlag(EventTypes.WHITE_SCREEN, !silentWhiteScreen);
}
